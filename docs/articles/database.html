<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Telemetry Database • telemetry</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Telemetry Database">
<meta property="og:description" content="telemetry">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">telemetry</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/api_administration.html">Administering the Database</a>
    </li>
    <li>
      <a href="../articles/database.html">The Telemetry Database</a>
    </li>
    <li>
      <a href="../articles/regions.html">Database Regions</a>
    </li>
    <li>
      <a href="../articles/telemetry_api.html">Quickstart Guide for the Telemetry API</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Telemetry Database</h1>
                        <h4 data-toc-skip class="author">Alex
Constandache</h4>
            
      
      
      <div class="hidden name"><code>database.Rmd</code></div>

    </div>

    
    
<p>There 14 different type of entities represented in the database:</p>
<ul>
<li>Users</li>
<li>Organizations</li>
<li>Affiliations</li>
<li>Projects</li>
<li>Species</li>
<li>Tags</li>
<li>Antennas</li>
<li>Batches (tagging records)</li>
<li>Antenna networks</li>
<li>Antenna outages</li>
<li>Tag technologies</li>
<li>Antenna technologies</li>
<li>Technology compatibility records</li>
<li>Registration records</li>
</ul>
<p>Most of these entity types represent exactly what their name
suggests, but a few might require additional explanations, which we
provide in this document. Each entity type corresponds to a table
containing records of that type.</p>
<p>With two exceptions (i.e. affiliations and tech compatibility
records), each of these tables contain an integer-valued column called
id. This is a unique numeric identifier automatically assigned to a
record by the database system when that record is created. These
identifiers are used internally to reference the record from another
table. They are of interest only to library writers. There is no reason
to ever present them to the end user, although there is no harm in doing
so. Figure 1 contains a diagram representing all the tables and the way
they reference each other using these keys (represented as dotted
lines).</p>
<div class="section level3">
<h3 id="user-records-table-users-consist-of-the-following-fields">User records (table Users) consist of the following fields:<a class="anchor" aria-label="anchor" href="#user-records-table-users-consist-of-the-following-fields"></a>
</h3>
<ul>
<li>id, unique integer-valued record identifier</li>
<li>name, a text-valued unique identifier intended for human use (e.g
logging in)</li>
<li>passwd, a text-valued salted hash of the user’s password.</li>
<li>info, a free form text field providing additional information about
the user, such as contact information.</li>
</ul>
</div>
<div class="section level3">
<h3 id="organization-records-table-orgs">Organization records (table Orgs):<a class="anchor" aria-label="anchor" href="#organization-records-table-orgs"></a>
</h3>
<ul>
<li>id, unique integer-valued record identifier</li>
<li>name, a text-valued unique identifier intended for human use.</li>
<li>info, a free form text field providing additional information about
the organization.</li>
</ul>
</div>
<div class="section level3">
<h3 id="affiliation-records-table-affiliations">Affiliation records (table Affiliations):<a class="anchor" aria-label="anchor" href="#affiliation-records-table-affiliations"></a>
</h3>
<ul>
<li>userID, an integer-valued field referencing a User record</li>
<li>orgID, an integer-valued field referencing an Org record</li>
</ul>
<p>The presence of a (userID, orgID) pair encodes the existence of an
active affiliation between the referenced user and organization. It is
an error for such a pair of values to appear more than once in this
table. Attempting to create such a duplicate will produce an SQL error,
which will be converted by the REST interface into an HTTP error. The
main purpose of this table is to enforce data access controls.</p>
</div>
<div class="section level3">
<h3 id="tag-technology-records-table-tagtech">Tag technology records (table TagTech):<a class="anchor" aria-label="anchor" href="#tag-technology-records-table-tagtech"></a>
</h3>
<p>These records provide a description of the technical characteristics
of a particular type of tag. Every tag record references exactly one
record in this table, to identify its technical capabilities. The fields
are:</p>
<ul>
<li>id, a unique integer-valued identifier</li>
<li>name, a unique text-valued record identifier intended for human
consumption</li>
<li>manifest, a text field containing a free-form JSON-encoded
description of a type of tag. There are no constraints on this field,
other than the fact that it needs to be well-formed JSON. It may contain
information such as manufacturer, model, data fields reported during
scanning, their units, etc.</li>
</ul>
</div>
<div class="section level3">
<h3 id="antenna-technology-records-table-antennatech">Antenna technology records (table AntennaTech)<a class="anchor" aria-label="anchor" href="#antenna-technology-records-table-antennatech"></a>
</h3>
<ul>
<li>id, a unique integer-valued identifier</li>
<li>name, a unique text-valued record identifier intended for human
consumption</li>
<li>manifest, a text field containing a free-form JSON-encoded
description of a type of antenna. There are no constraints on this
field, other than the fact that it needs to be well-formed JSON. It may
contain information such as manufacturer, model, operating frequency,
maximum scanning distance, etc.</li>
</ul>
</div>
<div class="section level3">
<h3 id="technology-compatibility-records-table-techcompat">Technology compatibility records (table TechCompat):<a class="anchor" aria-label="anchor" href="#technology-compatibility-records-table-techcompat"></a>
</h3>
<ul>
<li>antennaTechID, an integer-valued field referencing an AntennaTech
record</li>
<li>tagTechID, an integer-valued field referencing an TagTech
record</li>
</ul>
<p>The presence of a pair (antennaTechID, tagTechID) in this table
expresses the fact that a particular type of antenna is capable of
scanning tags of the given type, when they are in range. Any such pair
may appear at most once in this table. Attempting to crate a duplicate
record in this table will result in an SQL error which will be turned by
the REST API into an HTTP error.</p>
</div>
<div class="section level3">
<h3 id="species-records-table-species">Species records (table Species):<a class="anchor" aria-label="anchor" href="#species-records-table-species"></a>
</h3>
<ul>
<li>id, a unique integer-valued identifier for the species</li>
<li>name, a unique text-valued identifier for the species (e.g., the
scientific name of species), intended for human consumption.</li>
</ul>
</div>
<div class="section level3">
<h3 id="project-records-table-projects">Project records (table Projects):<a class="anchor" aria-label="anchor" href="#project-records-table-projects"></a>
</h3>
<ul>
<li>id, unique integer-valued project identifier.</li>
<li>name, the name of project, text-valued field.<br>
</li>
<li>ownerID, integer field that references the record in the Orgs table
corresponding to the organization that has authority over the
project.</li>
<li>info, free-form text field for additional information about the
project (e.g. points of contact)</li>
</ul>
</div>
<div class="section level3">
<h3 id="batch-records-table-batches">Batch records (table Batches)<a class="anchor" aria-label="anchor" href="#batch-records-table-batches"></a>
</h3>
<p>A batch represents a group of tags that have the same underlying
technology, are part of the same project, were implanted in specimens of
a single species, and have implantation data records of uniform
structure and quality.</p>
<ul>
<li>id, unique integer-valued identifier for this batch</li>
<li>tagTechID, reference to the TagTech record for the underlying
technology of the tags in this batch<br>
</li>
<li>speciesID, reference to the Species record for the species tagged
using tags in this batch</li>
<li>projectID,reference to the Project record representing project this
batch belongs to.</li>
<li>payloadSchema, a free-form text field containing a JSON description
of the additional data that was recorded for each tag in this batch at
implantation time. This is just a data schema, not the data itself. The
actual data is stored in the payload field of each individual Tag
record.</li>
</ul>
</div>
<div class="section level3">
<h3 id="network-records-table-networks">Network records (table Networks):<a class="anchor" aria-label="anchor" href="#network-records-table-networks"></a>
</h3>
<p>A network record represents a group of antennas that are owned by the
same organization.</p>
<ul>
<li>id, unique integer-valued identifier for this netword</li>
<li>ownerID, reference to the Org record representing the organization
that owns this antenna network.</li>
<li>name, a text -valued unique identifier for this network, intended
for human use.</li>
</ul>
</div>
<div class="section level3">
<h3 id="antenna-records-table-antennas">Antenna records (table Antennas)<a class="anchor" aria-label="anchor" href="#antenna-records-table-antennas"></a>
</h3>
<ul>
<li>id, a unique integer-valued identifier for an antenna</li>
<li>name, a unique text-valued identifier of an antenna, meant for human
use.</li>
<li>techID, a reference to the AntennaTech record describing the
underlying technology of the antenna</li>
<li>networkID: reference to the Network record describing the network
this antenna belong to.</li>
<li>startTime time when the antenna first became operational</li>
<li>endTime time when the antenna was decommissioned (if it is null,
then the antenna is still in use)</li>
<li>latitude latitude of antenna location (stored as a float)</li>
<li>longitude longitude of antenna location. (stored as a float)</li>
<li>region the predefined geographic region in which the antenna is
located. Consistency with latitude and longitude data is not
checked.</li>
</ul>
</div>
<div class="section level3">
<h3 id="tag-records-table-tags">Tag records (table Tags)<a class="anchor" aria-label="anchor" href="#tag-records-table-tags"></a>
</h3>
<ul>
<li>id, a unique integer-valued identifier for the tag</li>
<li>name unique text-valued identifier of the tag. This is the actual
identifier the tag beams back when scanned (e.g.,
8000E1349EA72A50).</li>
<li>batchID: reference for the batch record this tag belongs to.</li>
<li>time, date and time when the tag was deployed</li>
<li>payload, free form JSON field containing additional information
collected at implantation time (e.g., fish metadata, like { “fork
length”: 110, “weight”: 112}). This field should conform to the schema
declared in the payloadSchema field of the corresponding Batch record,
although the system does not verify compliance.</li>
</ul>
</div>
<div class="section level3">
<h3 id="registration-records-table-registrations">Registration records (table Registrations)<a class="anchor" aria-label="anchor" href="#registration-records-table-registrations"></a>
</h3>
<ul>
<li>id, unique integer-valued identifier for the registration</li>
<li>time, date and time of the registration</li>
<li>antennaID reference to the Antenna record for the antenna that
recorded the registration</li>
<li>tagID reference to the Tag record of the scanned tag</li>
<li>payload JSON encoded field containing any additional data reported
by the tag. This should conform to the schema declared in the manifest
field of the corresponding TagTech record, although conformance is not
checked by the system.</li>
</ul>
</div>
<div class="section level3">
<h3 id="outage-records-table-outages">Outage records (table Outages)<a class="anchor" aria-label="anchor" href="#outage-records-table-outages"></a>
</h3>
<ul>
<li>id unique integer identifier</li>
<li>antennaID, reference to the Antenna record representing the antenna
affected by this outage</li>
<li>startTime: time when the outage began</li>
<li>endTime: time when the outage ended (null if the outage is
ongoing)</li>
<li>info, free form text field containing additional information about
the outage.</li>
</ul>
<p>A schema of table relationships in the pilot database for the
centralized PIT database for the Sacramento-San Joaquin Delta is shown
in Figure 1. Ownership information is defined at the Batch and Network
level, and propagated transitively to entries that reference those
records.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Matt Espe.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
